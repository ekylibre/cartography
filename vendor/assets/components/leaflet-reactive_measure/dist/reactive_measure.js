!function(t){function i(s){if(e[s])return e[s].exports;var a=e[s]={i:s,l:!1,exports:{}};return t[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}var e={};i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},i.p="",i(i.s=0)}([function(t,i,e){e(1),t.exports=e(4)},function(t,i,e){var s;s=e(2),e(3),s.ReactiveMeasure={},s.ReactiveMeasure.Draw={},s.ReactiveMeasure.Edit={},s.ReactiveMeasure.Draw.Event={},s.ReactiveMeasure.Edit.Event={},s.ReactiveMeasure.Draw.Event.MOVE="reactiveMeasure:draw:move",s.ReactiveMeasure.Edit.Event.MOVE="reactiveMeasure:edit:move",t.exports=s.ReactiveMeasureControl=s.Control.extend({options:{position:"bottomright",metric:!0,feet:!1,measure:{perimeter:0,area:0}},initialize:function(t,i){if(null==i&&(i={}),s.Util.setOptions(this,i),this.options.measure.perimeter=0,this.options.measure.area=0,t.getLayers().length>0)return this.options.measure=t.getMeasure()},onAdd:function(t){return this._container=s.DomUtil.create("div","reactive-measure-control "+t._leaflet_id),t.reactiveMeasureControl=this,t&&this._container&&this.updateContent(this.options.measure),this._container},updateContent:function(t,i){var e;null==t&&(t={}),null==i&&(i={}),e="",null!=t.extrapolatedPerimeter&&(e+="<span class='leaflet-draw-tooltip-measure perimeter'>"+s.GeometryUtil.readableDistance(t.extrapolatedPerimeter,!!this.options.metric,!!i.feet)+"</span>"),null!=t.extrapolatedArea&&(e+="<span class='leaflet-draw-tooltip-measure area'>"+s.GeometryUtil.readableArea(t.extrapolatedArea,!!this.options.metric)+"</span>"),null!=i.selection&&!0===i.selection?s.DomUtil.addClass(this._container,"selection"):s.DomUtil.removeClass(this._container,"selection"),this._container.innerHTML=e}}),s.FeatureGroup.include({getMeasure:function(){var t;return t={extrapolatedPerimeter:0,extrapolatedArea:0,perimeter:0},this.eachLayer(function(i){var e;return e=i.getMeasure(),t.extrapolatedPerimeter+=e.extrapolatedPerimeter,t.perimeter+=e.perimeter,t.extrapolatedArea+=e.extrapolatedArea}),t}}),s.Polygon.include({__getCenter:function(){var t,i,e,s,a,n,r,o,h,l,c;if(this.__project(),h=this._rings[0],!(n=h.length))return null;for(t=l=c=0,s=0,a=n-1;s<n;)r=h[s],o=h[a],e=r.y*o.x-o.y*r.x,l+=(r.x+o.x)*e,c+=(r.y+o.y)*e,t+=3*e,a=s++;return i=0===t?h[0]:[l/t,c/t],this._map.layerPointToLatLng(i)},getLatLngsAsArray:function(){var t,i,e,s,a;for(t=[],a=this._latlngs[0],i=0,s=a.length;i<s;i++)e=a[i],t.push([e.lat,e.lng]);return t}}),s.Polyline.include({getLatLngsAsArray:function(){var t,i,e,s,a;for(t=[],a=this._latlngs,i=0,s=a.length;i<s;i++)e=a[i],t.push([e.lat,e.lng]);return t},__getCenter:function(){var t,i,e,s,a,n,r,o,h;if(this.__project(),e=void 0,i=void 0,h=void 0,t=void 0,a=void 0,n=void 0,o=void 0,r=this._rings[0],!(s=r.length))return null;for(e=0,i=0;e<s-1;)i+=r[e].distanceTo(r[e+1])/2,e++;if(0===i)return this._map.layerPointToLatLng(r[0]);for(e=0,t=0;e<s-1;){if(a=r[e],n=r[e+1],h=a.distanceTo(n),(t+=h)>i)return o=(t-i)/h,this._map.layerPointToLatLng([n.x-o*(n.x-a.x),n.y-o*(n.y-a.y)]);e++}},__project:function(){var t;t=new s.Bounds,this._rings=[],this.__projectLatlngs(this._latlngs,this._rings,t)},__projectLatlngs:function(t,i,e){var a,n,r,o;if(a=t[0]instanceof s.LatLng,r=t.length,n=void 0,o=void 0,a){for(o=[],n=0;n<r;)o[n]=this._map.latLngToLayerPoint(t[n]),e.extend(o[n]),n++;i.push(o)}else for(n=0;n<r;)this.__projectLatlngs(t[n],i,e),n++},getMeasure:function(){return s.GeographicUtil.Polygon(this.getLatLngsAsArray())}}),s.Draw.Polyline.include({__addHooks:s.Draw.Polyline.prototype.addHooks,__removeHooks:s.Draw.Polyline.prototype.removeHooks,__vertexChanged:s.Draw.Polyline.prototype._vertexChanged,_vertexChanged:function(t){if(this.__vertexChanged.apply(this,arguments),!this._map.reactiveMeasureControl.options.tooltip&&null!=this._tooltip)return s.DomUtil.setOpacity(this._tooltip._container,0),s.DomUtil.setPosition(this._tooltip._container,s.point(0,0))},__onMouseMove:function(t){var i,e,a,n,r,o,h,l,c,_;if(t.target.reactiveMeasureControl.options.tooltip||null==this._tooltip||(s.DomUtil.setOpacity(this._tooltip._container,0),s.DomUtil.setPosition(this._tooltip._container,s.point(0,0))),this._markers.length>0){for(c=this._map.mouseEventToLayerPoint(t.originalEvent),l=this._map.layerPointToLatLng(c),r=[],_=this._poly.getLatLngs(),a=0,o=_.length;a<o;a++)n=_[a],r.push(n);return r.push(l),1===this._markers.length&&(e=s.polyline(r)),this._markers.length>=2&&(e=s.polygon(r)),e._map=this._map,i=e.__getCenter(),h=s.GeographicUtil.Polygon(e.getLatLngsAsArray()),t.target.reactiveMeasureControl.updateContent(h,{selection:!0}),null!=t.target.reactiveMeasureControl.options.tooltip&&this._tooltip.__updateTooltipMeasure(i,h,t.target.reactiveMeasureControl.options),this._map.fire(s.ReactiveMeasure.Draw.Event.MOVE,{measure:h})}},addHooks:function(){this.__addHooks.apply(this,arguments),this._map.on("mousemove",this.__onMouseMove,this)},removeHooks:function(){this._map.reactiveMeasureControl&&this._map.off("mousemove"),this.__removeHooks.apply(this,arguments)}}),s.Edit.Poly.include({__addHooks:s.Edit.Poly.prototype.addHooks,__removeHooks:s.Edit.Poly.prototype.removeHooks,__onHandlerDrag:function(t){return function(t){var i,e;return i=t.target.editing._poly,i.__getCenter(),e=s.GeographicUtil.Polygon(i.getLatLngsAsArray()),s.extend(s.Draw.Polyline.prototype.options,{target:t.marker.getLatLng()}),null!=i._map&&i._map.reactiveMeasureControl.updateContent(e,{selection:!0}),i._map.fire(s.ReactiveMeasure.Edit.Event.MOVE,{measure:e})}}(),addHooks:function(){return this.__addHooks.apply(this,arguments),this._poly.on("editdrag",this.__onHandlerDrag,this)},removeHooks:function(){return s.EditToolbar.reactiveMeasure&&this._poly.off("editdrag"),this.__removeHooks.apply(this,arguments)}}),s.Edit.PolyVerticesEdit.include({__onTouchMove:s.Edit.PolyVerticesEdit.prototype._onTouchMove,__removeMarker:s.Edit.PolyVerticesEdit.prototype._removeMarker,_onMarkerDrag:function(t){var i;i=t.target,s.extend(i._origLatLng,i._latlng),i._middleLeft&&i._middleLeft.setLatLng(this._getMiddleLatLng(i._prev,i)),i._middleRight&&i._middleRight.setLatLng(this._getMiddleLatLng(i,i._next)),this._poly.redraw(),this._poly.fire("editdrag",{marker:t.target})},_onTouchMove:function(t){return this.__onTouchMove.apply(this,arguments),this._poly.fire("editdrag")},_removeMarker:function(t){return this.__removeMarker.apply(this,arguments),this._poly.fire("editdrag",{marker:t})}}),s.LatLng.prototype.toArray=function(){return[this.lat,this.lng]},s.Draw.Tooltip.include({__initialize:s.Draw.Tooltip.prototype.initialize,__dispose:s.Draw.Tooltip.prototype.dispose,initialize:function(t,i){return null==i&&(i={}),this.__initialize.apply(this,arguments)},dispose:function(){return this._map.off("mouseover"),this.__dispose.apply(this,arguments)},__updateTooltipMeasure:function(t,i,e){var a;null==i&&(i={}),null==e&&(e={}),a={text:""},null!=i.extrapolatedPerimeter&&(a.text+="<span class='leaflet-draw-tooltip-measure perimeter'>"+s.GeometryUtil.readableDistance(i.extrapolatedPerimeter,!!e.metric,!!e.feet)+"</span>"),null!=i.extrapolatedArea&&(a.text+="<span class='leaflet-draw-tooltip-measure area'>"+s.GeometryUtil.readableArea(i.extrapolatedArea,!!e.metric)+"</span>"),t&&(this.updateContent(a),this.__updatePosition(t,e))},__updatePosition:function(t,i){var e,a,n,r,o;if(null==i&&(i={}),r=this._map.latLngToLayerPoint(t),this._container.offsetWidth,n=this._map._container.offsetWidth,s.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-left"),this._container)return this._container.style.visibility="inherit",e=this._map.layerPointToContainerPoint(r),o=window.getComputedStyle(this._container),a=this._container.offsetWidth+parseInt(o.paddingLeft)+parseInt(o.paddingRight)+parseInt(o.marginLeft)+parseInt(o.marginRight),(e.x<0||e.x>n-a||e.y<this._container.offsetHeight)&&(r=r.add(s.point(-a,0)),s.DomUtil.addClass(this._container,"leaflet-draw-tooltip-left")),s.DomUtil.setPosition(this._container,r)},hide:function(){return this._container.style.visibility="hidden"}})},function(t,i){t.exports=L},function(t,i){!function(t){function i(s){if(e[s])return e[s].exports;var a=e[s]={i:s,l:!1,exports:{}};return t[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}var e={};i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},i.p="",i(i.s=0)}([function(t,i,e){t.exports=e(1)},function(t,i,e){var s,a;a=e(2),s=e(3),a.GeographicUtil=function(){function t(){}return t.Polygon=function(t,i){var e,a,n,r,o,h,l,c;for(null==i&&(i=!1),e=s.Geodesic.WGS84,l=e.Polygon(!1),a=0,r=t.length;a<r;a++)h=t[a],l.AddPoint(h[0],h[1]);for(l=l.Compute(!1,!0),c=e.Polygon(!0),n=0,o=t.length;n<o;n++)h=t[n],c.AddPoint(h[0],h[1]);return c=c.Compute(!1,!0),{extrapolatedPerimeter:l.perimeter,extrapolatedArea:Math.abs(l.area),perimeter:c.perimeter}},t.distance=function(t,i){var e,a;return e=s.Geodesic.WGS84,a=e.Inverse(t[0],t[1],i[0],i[1]),a.s12.toFixed(3)},t}()},function(t,i){t.exports=L},function(t,i,e){var s,a;!function(e){"use strict";var n={};n.Constants={},n.Math={},n.Accumulator={},function(t){t.WGS84={a:6378137,f:1/298.257223563},t.version={major:1,minor:49,patch:0},t.version_string="1.49"}(n.Constants),function(t){t.digits=53,t.epsilon=Math.pow(.5,t.digits-1),t.degree=Math.PI/180,t.sq=function(t){return t*t},t.hypot=function(t,i){var e,s;return t=Math.abs(t),i=Math.abs(i),e=Math.max(t,i),s=Math.min(t,i)/(e||1),e*Math.sqrt(1+s*s)},t.cbrt=function(t){var i=Math.pow(Math.abs(t),1/3);return t<0?-i:i},t.log1p=function(t){var i=1+t,e=i-1;return 0===e?t:t*Math.log(i)/e},t.atanh=function(i){var e=Math.abs(i);return e=t.log1p(2*e/(1-e))/2,i<0?-e:e},t.copysign=function(t,i){return Math.abs(t)*(i<0||0===i&&1/i<0?-1:1)},t.sum=function(t,i){var e,s=t+i,a=s-i,n=s-a;return a-=t,n-=i,e=-(a+n),{s:s,t:e}},t.polyval=function(t,i,e,s){for(var a=t<0?0:i[e++];--t>=0;)a=a*s+i[e++];return a},t.AngRound=function(t){if(0===t)return t;var i=1/16,e=Math.abs(t);return e=e<i?i-(i-e):e,t<0?-e:e},t.AngNormalize=function(t){return t%=360,t<=-180?t+360:t<=180?t:t-360},t.LatFix=function(t){return Math.abs(t)>90?Number.NaN:t},t.AngDiff=function(i,e){var s=t.sum(t.AngNormalize(-i),t.AngNormalize(e)),a=t.AngNormalize(s.s),n=s.t;return t.sum(180===a&&n>0?-180:a,n)},t.sincosd=function(t){var i,e,s,a,n,r;switch(i=t%360,e=Math.floor(i/90+.5),i-=90*e,i*=this.degree,s=Math.sin(i),a=Math.cos(i),3&e){case 0:n=s,r=a;break;case 1:n=a,r=-s;break;case 2:n=-s,r=-a;break;default:n=-a,r=s}return 0!==t&&(n+=0,r+=0),{s:n,c:r}},t.atan2d=function(t,i){var e,s,a=0;switch(Math.abs(t)>Math.abs(i)&&(e=i,i=t,t=e,a=2),i<0&&(i=-i,++a),s=Math.atan2(t,i)/this.degree,a){case 1:s=(t>=0?180:-180)-s;break;case 2:s=90-s;break;case 3:s=-90+s}return s}}(n.Math),function(t,i){t.Accumulator=function(t){this.Set(t)},t.Accumulator.prototype.Set=function(i){i||(i=0),i.constructor===t.Accumulator?(this._s=i._s,this._t=i._t):(this._s=i,this._t=0)},t.Accumulator.prototype.Add=function(t){var e=i.sum(t,this._t),s=i.sum(e.s,this._s);e=e.t,this._s=s.s,this._t=s.t,0===this._s?this._s=e:this._t+=e},t.Accumulator.prototype.Sum=function(i){var e;return i?(e=new t.Accumulator(this),e.Add(i),e._s):this._s},t.Accumulator.prototype.Negate=function(){this._s*=-1,this._t*=-1}}(n.Accumulator,n.Math),n.Geodesic={},n.GeodesicLine={},n.PolygonArea={},function(t,i,e,s,a){var n,r,o,h,l,c,_,p,u,f,d,g=20+s.digits+10,m=s.epsilon,A=200*m,C=Math.sqrt(m),M=m*A,E=1e3*C;t.tiny_=Math.sqrt(Number.MIN_VALUE),t.nC1_=6,t.nC1p_=6,t.nC2_=6,t.nC3_=6,t.nC4_=6,n=t.nC3_*(t.nC3_-1)/2,r=t.nC4_*(t.nC4_+1)/2,t.CAP_C1=1,t.CAP_C1p=2,t.CAP_C2=4,t.CAP_C3=8,t.CAP_C4=16,t.NONE=0,t.ARC=64,t.LATITUDE=128,t.LONGITUDE=256|t.CAP_C3,t.AZIMUTH=512,t.DISTANCE=1024|t.CAP_C1,t.STANDARD=t.LATITUDE|t.LONGITUDE|t.AZIMUTH|t.DISTANCE,t.DISTANCE_IN=2048|t.CAP_C1|t.CAP_C1p,t.REDUCEDLENGTH=4096|t.CAP_C1|t.CAP_C2,t.GEODESICSCALE=8192|t.CAP_C1|t.CAP_C2,t.AREA=16384|t.CAP_C4,t.ALL=32671,t.LONG_UNROLL=32768,t.OUT_MASK=32640|t.LONG_UNROLL,t.SinCosSeries=function(t,i,e,s){var a=s.length,n=a-(t?1:0),r=2*(e-i)*(e+i),o=1&n?s[--a]:0,h=0;for(n=Math.floor(n/2);n--;)h=r*o-h+s[--a],o=r*h-o+s[--a];return t?2*i*e*o:e*(o-h)},o=function(t,i){var e,a,n,r,o,h,l,c,_,p,u,f,d=s.sq(t),g=s.sq(i),m=(d+g-1)/6;return 0===g&&m<=0?e=0:(a=d*g/4,n=s.sq(m),r=m*n,o=a*(a+2*r),h=m,o>=0?(l=a+r,l+=l<0?-Math.sqrt(o):Math.sqrt(o),c=s.cbrt(l),h+=c+(0!==c?n/c:0)):(_=Math.atan2(Math.sqrt(-o),-(a+r)),h+=2*m*Math.cos(_/3)),p=Math.sqrt(s.sq(h)+g),u=h<0?g/(p-h):h+p,f=(u-g)/(2*p),e=u/(Math.sqrt(u+s.sq(f))+f)),e},h=[1,4,64,0,256],t.A1m1f=function(t){var i=Math.floor(3);return(s.polyval(i,h,0,s.sq(t))/h[i+1]+t)/(1-t)},l=[-1,6,-16,32,-9,64,-128,2048,9,-16,768,3,-5,512,-7,1280,-7,2048],t.C1f=function(i,e){var a,n,r=s.sq(i),o=i,h=0;for(a=1;a<=t.nC1_;++a)n=Math.floor((t.nC1_-a)/2),e[a]=o*s.polyval(n,l,h,r)/l[h+n+1],h+=n+2,o*=i},c=[205,-432,768,1536,4005,-4736,3840,12288,-225,116,384,-7173,2695,7680,3467,7680,38081,61440],t.C1pf=function(i,e){var a,n,r=s.sq(i),o=i,h=0;for(a=1;a<=t.nC1p_;++a)n=Math.floor((t.nC1p_-a)/2),e[a]=o*s.polyval(n,c,h,r)/c[h+n+1],h+=n+2,o*=i},_=[-11,-28,-192,0,256],t.A2m1f=function(t){var i=Math.floor(3);return(s.polyval(i,_,0,s.sq(t))/_[i+1]-t)/(1+t)},p=[1,2,16,32,35,64,384,2048,15,80,768,7,35,512,63,1280,77,2048],t.C2f=function(i,e){var a,n,r=s.sq(i),o=i,h=0;for(a=1;a<=t.nC2_;++a)n=Math.floor((t.nC2_-a)/2),e[a]=o*s.polyval(n,p,h,r)/p[h+n+1],h+=n+2,o*=i},t.Geodesic=function(t,i){if(this.a=t,this.f=i,this._f1=1-this.f,this._e2=this.f*(2-this.f),this._ep2=this._e2/s.sq(this._f1),this._n=this.f/(2-this.f),this._b=this.a*this._f1,this._c2=(s.sq(this.a)+s.sq(this._b)*(0===this._e2?1:(this._e2>0?s.atanh(Math.sqrt(this._e2)):Math.atan(Math.sqrt(-this._e2)))/Math.sqrt(Math.abs(this._e2))))/2,this._etol2=.1*C/Math.sqrt(Math.max(.001,Math.abs(this.f))*Math.min(1,1-this.f/2)/2),!(isFinite(this.a)&&this.a>0))throw new Error("Equatorial radius is not positive");if(!(isFinite(this._b)&&this._b>0))throw new Error("Polar semi-axis is not positive");this._A3x=new Array(6),this._C3x=new Array(n),this._C4x=new Array(r),this.A3coeff(),this.C3coeff(),this.C4coeff()},u=[-3,128,-2,-3,64,-1,-3,-1,16,3,-1,-2,8,1,-1,2,1,1],t.Geodesic.prototype.A3coeff=function(){var t,i,e=0,a=0;for(t=5;t>=0;--t)i=Math.min(6-t-1,t),this._A3x[a++]=s.polyval(i,u,e,this._n)/u[e+i+1],e+=i+2},f=[3,128,2,5,128,-1,3,3,64,-1,0,1,8,-1,1,4,5,256,1,3,128,-3,-2,3,64,1,-3,2,32,7,512,-10,9,384,5,-9,5,192,7,512,-14,7,512,21,2560],t.Geodesic.prototype.C3coeff=function(){var i,e,a,n=0,r=0;for(i=1;i<t.nC3_;++i)for(e=t.nC3_-1;e>=i;--e)a=Math.min(t.nC3_-e-1,e),this._C3x[r++]=s.polyval(a,f,n,this._n)/f[n+a+1],n+=a+2},d=[97,15015,1088,156,45045,-224,-4784,1573,45045,-10656,14144,-4576,-858,45045,64,624,-4576,6864,-3003,15015,100,208,572,3432,-12012,30030,45045,1,9009,-2944,468,135135,5792,1040,-1287,135135,5952,-11648,9152,-2574,135135,-64,-624,4576,-6864,3003,135135,8,10725,1856,-936,225225,-8448,4992,-1144,225225,-1440,4160,-4576,1716,225225,-136,63063,1024,-208,105105,3584,-3328,1144,315315,-128,135135,-2560,832,405405,128,99099],t.Geodesic.prototype.C4coeff=function(){var i,e,a,n=0,r=0;for(i=0;i<t.nC4_;++i)for(e=t.nC4_-1;e>=i;--e)a=t.nC4_-e-1,this._C4x[r++]=s.polyval(a,d,n,this._n)/d[n+a+1],n+=a+2},t.Geodesic.prototype.A3f=function(t){return s.polyval(5,this._A3x,0,t)},t.Geodesic.prototype.C3f=function(i,e){var a,n,r=1,o=0;for(a=1;a<t.nC3_;++a)n=t.nC3_-a-1,r*=i,e[a]=r*s.polyval(n,this._C3x,o,i),o+=n+1},t.Geodesic.prototype.C4f=function(i,e){var a,n,r=1,o=0;for(a=0;a<t.nC4_;++a)n=t.nC4_-a-1,e[a]=r*s.polyval(n,this._C4x,o,i),o+=n+1,r*=i},t.Geodesic.prototype.Lengths=function(i,e,s,a,n,r,o,h,l,c,_,p,u){_&=t.OUT_MASK;var f,d,g,m,A,C={},M=0,E=0,y=0,v=0;if(_&(t.DISTANCE|t.REDUCEDLENGTH|t.GEODESICSCALE)&&(y=t.A1m1f(i),t.C1f(i,p),_&(t.REDUCEDLENGTH|t.GEODESICSCALE)&&(v=t.A2m1f(i),t.C2f(i,u),M=y-v,v=1+v),y=1+y),_&t.DISTANCE)f=t.SinCosSeries(!0,r,o,p)-t.SinCosSeries(!0,s,a,p),C.s12b=y*(e+f),_&(t.REDUCEDLENGTH|t.GEODESICSCALE)&&(d=t.SinCosSeries(!0,r,o,u)-t.SinCosSeries(!0,s,a,u),E=M*e+(y*f-v*d));else if(_&(t.REDUCEDLENGTH|t.GEODESICSCALE)){for(g=1;g<=t.nC2_;++g)u[g]=y*p[g]-v*u[g];E=M*e+(t.SinCosSeries(!0,r,o,u)-t.SinCosSeries(!0,s,a,u))}return _&t.REDUCEDLENGTH&&(C.m0=M,C.m12b=h*(a*r)-n*(s*o)-a*o*E),_&t.GEODESICSCALE&&(m=a*o+s*r,A=this._ep2*(l-c)*(l+c)/(n+h),C.M12=m+(A*r-o*E)*s/n,C.M21=m-(A*s-a*E)*r/h),C},t.Geodesic.prototype.InverseStart=function(i,e,a,n,r,h,l,c,_,p,u){var f,d,g,m,C,M,y,v,L,D,N,S,b,T,G,I,P,O,U,x,w,R,q,k={},H=n*e-r*i,z=r*e+n*i;return k.sig12=-1,f=n*e,f+=r*i,d=z>=0&&H<.5&&r*l<.5,d?(m=s.sq(i+n),m/=m+s.sq(e+r),k.dnm=Math.sqrt(1+this._ep2*m),g=l/(this._f1*k.dnm),C=Math.sin(g),M=Math.cos(g)):(C=c,M=_),k.salp1=r*C,k.calp1=M>=0?H+r*i*s.sq(C)/(1+M):f-r*i*s.sq(C)/(1-M),v=s.hypot(k.salp1,k.calp1),L=i*n+e*r*M,d&&v<this._etol2?(k.salp2=e*C,k.calp2=H-e*n*(M>=0?s.sq(C)/(1+M):1-M),y=s.hypot(k.salp2,k.calp2),k.salp2/=y,k.calp2/=y,k.sig12=Math.atan2(v,L)):Math.abs(this._n)>.1||L>=0||v>=6*Math.abs(this._n)*Math.PI*s.sq(e)||(q=Math.atan2(-c,-_),this.f>=0?(T=s.sq(i)*this._ep2,G=T/(2*(1+Math.sqrt(1+T))+T),S=this.f*e*this.A3f(G)*Math.PI,b=S*e,D=q/S,N=f/b):(I=r*e-n*i,P=Math.atan2(f,I),x=this.Lengths(this._n,Math.PI+P,i,-e,a,n,r,h,e,r,t.REDUCEDLENGTH,p,u),O=x.m12b,U=x.m0,D=O/(e*r*U*Math.PI)-1,b=D<-.01?f/D:-this.f*s.sq(e)*Math.PI,S=b/e,N=l/S),N>-A&&D>-1-E?this.f>=0?(k.salp1=Math.min(1,-D),k.calp1=-Math.sqrt(1-s.sq(k.salp1))):(k.calp1=Math.max(D>-A?0:-1,D),k.salp1=Math.sqrt(1-s.sq(k.calp1))):(w=o(D,N),R=S*(this.f>=0?-D*w/(1+w):-N*(1+w)/w),C=Math.sin(R),M=-Math.cos(R),k.salp1=r*C,k.calp1=f-r*i*s.sq(C)/(1-M))),k.salp1<=0?(k.salp1=1,k.calp1=0):(y=s.hypot(k.salp1,k.calp1),k.salp1/=y,k.calp1/=y),k},t.Geodesic.prototype.Lambda12=function(i,e,a,n,r,o,h,l,c,_,p,u,f,d){var g,m,A,C,M,E,y,v,L,D,N,S,b,T={};return 0===i&&0===l&&(l=-t.tiny_),m=h*e,A=s.hypot(l,h*i),T.ssig1=i,C=m*i,T.csig1=M=l*e,g=s.hypot(T.ssig1,T.csig1),T.ssig1/=g,T.csig1/=g,T.salp2=r!==e?m/r:h,T.calp2=r!==e||Math.abs(n)!==-i?Math.sqrt(s.sq(l*e)+(e<-i?(r-e)*(e+r):(i-n)*(i+n)))/r:Math.abs(l),T.ssig2=n,E=m*n,T.csig2=y=T.calp2*r,g=s.hypot(T.ssig2,T.csig2),T.ssig2/=g,T.csig2/=g,T.sig12=Math.atan2(Math.max(0,T.csig1*T.ssig2-T.ssig1*T.csig2),T.csig1*T.csig2+T.ssig1*T.ssig2),v=Math.max(0,M*E-C*y),L=M*y+C*E,N=Math.atan2(v*_-L*c,L*_+v*c),S=s.sq(A)*this._ep2,T.eps=S/(2*(1+Math.sqrt(1+S))+S),this.C3f(T.eps,d),D=t.SinCosSeries(!0,T.ssig2,T.csig2,d)-t.SinCosSeries(!0,T.ssig1,T.csig1,d),T.domg12=-this.f*this.A3f(T.eps)*m*(T.sig12+D),T.lam12=N+T.domg12,p&&(0===T.calp2?T.dlam12=-2*this._f1*a/i:(b=this.Lengths(T.eps,T.sig12,T.ssig1,T.csig1,a,T.ssig2,T.csig2,o,e,r,t.REDUCEDLENGTH,u,f),T.dlam12=b.m12b,T.dlam12*=this._f1/(T.calp2*r))),T},t.Geodesic.prototype.Inverse=function(i,e,a,n,r){var o,h;return r||(r=t.STANDARD),r===t.LONG_UNROLL&&(r|=t.STANDARD),r&=t.OUT_MASK,o=this.InverseInt(i,e,a,n,r),h=o.vals,r&t.AZIMUTH&&(h.azi1=s.atan2d(o.salp1,o.calp1),h.azi2=s.atan2d(o.salp2,o.calp2)),h},t.Geodesic.prototype.InverseInt=function(i,e,a,n,r){var o,h,l,c,_,p,u,f,d,A,C,E,y,v,L,D,N,S,b,T,G,I,P,O,U,x,w,R,q,k,H,z,F,B,j,W,V,Z,K,Q,Y,$,J,X,tt,it,et,st,at,nt,rt,ot,ht,lt,ct,_t,pt,ut,ft,dt,gt,mt,At,Ct,Mt,Et={};if(Et.lat1=i=s.LatFix(i),Et.lat2=a=s.LatFix(a),i=s.AngRound(i),a=s.AngRound(a),o=s.AngDiff(e,n),h=o.t,o=o.s,r&t.LONG_UNROLL?(Et.lon1=e,Et.lon2=e+o+h):(Et.lon1=s.AngNormalize(e),Et.lon2=s.AngNormalize(n)),l=o>=0?1:-1,o=l*s.AngRound(o),h=s.AngRound(180-o-l*h),L=o*s.degree,c=s.sincosd(o>90?h:o),D=c.s,N=(o>90?-1:1)*c.c,_=Math.abs(i)<Math.abs(a)?-1:1,_<0&&(l*=-1,c=i,i=a,a=c),p=i<0?1:-1,i*=p,a*=p,c=s.sincosd(i),u=this._f1*c.s,f=c.c,c=s.hypot(u,f),u/=c,f/=c,f=Math.max(t.tiny_,f),c=s.sincosd(a),d=this._f1*c.s,A=c.c,c=s.hypot(d,A),d/=c,A/=c,A=Math.max(t.tiny_,A),f<-u?A===f&&(d=d<0?u:-u):Math.abs(d)===-u&&(A=f),y=Math.sqrt(1+this._ep2*s.sq(u)),v=Math.sqrt(1+this._ep2*s.sq(d)),P=new Array(t.nC1_+1),O=new Array(t.nC2_+1),U=new Array(t.nC3_),x=-90===i||0===D,x&&(b=N,T=D,G=1,I=0,R=u,q=b*f,k=d,H=G*A,S=Math.atan2(Math.max(0,q*k-R*H),q*H+R*k),w=this.Lengths(this._n,S,R,q,y,k,H,v,f,A,r|t.DISTANCE|t.REDUCEDLENGTH,P,O),C=w.s12b,E=w.m12b,r&t.GEODESICSCALE&&(Et.M12=w.M12,Et.M21=w.M21),S<1||E>=0?(S<3*t.tiny_&&(S=E=C=0),E*=this._b,C*=this._b,Et.a12=S/s.degree):x=!1),pt=2,!x&&0===u&&(this.f<=0||h>=180*this.f))b=G=0,T=I=1,C=this.a*L,S=F=L/this._f1,E=this._b*Math.sin(S),r&t.GEODESICSCALE&&(Et.M12=Et.M21=Math.cos(S)),Et.a12=o/this._f1;else if(!x)if(w=this.InverseStart(u,f,y,d,A,v,L,D,N,P,O),S=w.sig12,T=w.salp1,b=w.calp1,S>=0)I=w.salp2,G=w.calp2,B=w.dnm,C=S*this._b*B,E=s.sq(B)*this._b*Math.sin(S/B),r&t.GEODESICSCALE&&(Et.M12=Et.M21=Math.cos(S/B)),Et.a12=S/s.degree,F=L/(this._f1*B);else{for(j=0,W=t.tiny_,V=1,Z=t.tiny_,K=-1,Q=!1,Y=!1;j<g&&(w=this.Lambda12(u,f,y,d,A,v,T,b,D,N,j<20,P,O,U),$=w.lam12,I=w.salp2,G=w.calp2,S=w.sig12,R=w.ssig1,q=w.csig1,k=w.ssig2,H=w.csig2,z=w.eps,ft=w.domg12,J=w.dlam12,!Y&&Math.abs($)>=(Q?8:1)*m);++j)$>0&&(j<20||b/T>K/Z)?(Z=T,K=b):$<0&&(j<20||b/T<V/W)&&(W=T,V=b),j<20&&J>0&&(X=-$/J,tt=Math.sin(X),it=Math.cos(X),(et=T*it+b*tt)>0&&Math.abs(X)<Math.PI)?(b=b*it-T*tt,T=et,c=s.hypot(T,b),T/=c,b/=c,Q=Math.abs($)<=16*m):(T=(W+Z)/2,b=(V+K)/2,c=s.hypot(T,b),T/=c,b/=c,Q=!1,Y=Math.abs(W-T)+(V-b)<M||Math.abs(T-Z)+(b-K)<M);st=r|(r&(t.REDUCEDLENGTH|t.GEODESICSCALE)?t.DISTANCE:t.NONE),w=this.Lengths(z,S,R,q,y,k,H,v,f,A,st,P,O),C=w.s12b,E=w.m12b,r&t.GEODESICSCALE&&(Et.M12=w.M12,Et.M21=w.M21),E*=this._b,C*=this._b,Et.a12=S/s.degree,r&t.AREA&&(Ct=Math.sin(ft),Mt=Math.cos(ft),pt=D*Mt-N*Ct,ut=N*Mt+D*Ct)}return r&t.DISTANCE&&(Et.s12=0+C),r&t.REDUCEDLENGTH&&(Et.m12=0+E),r&t.AREA&&(at=T*f,nt=s.hypot(b,T*u),0!==nt&&0!==at?(R=u,q=b*f,k=d,H=G*A,ot=s.sq(nt)*this._ep2,z=ot/(2*(1+Math.sqrt(1+ot))+ot),ht=s.sq(this.a)*nt*at*this._e2,c=s.hypot(R,q),R/=c,q/=c,c=s.hypot(k,H),k/=c,H/=c,lt=new Array(t.nC4_),this.C4f(z,lt),ct=t.SinCosSeries(!1,R,q,lt),_t=t.SinCosSeries(!1,k,H,lt),Et.S12=ht*(_t-ct)):Et.S12=0,!x&&pt>1&&(pt=Math.sin(F),ut=Math.cos(F)),!x&&ut>-.7071&&d-u<1.75?(ft=1+ut,dt=1+f,gt=1+A,rt=2*Math.atan2(pt*(u*gt+d*dt),ft*(u*d+dt*gt))):(mt=I*b-G*T,At=G*b+I*T,0===mt&&At<0&&(mt=t.tiny_*b,At=-1),rt=Math.atan2(mt,At)),Et.S12+=this._c2*rt,Et.S12*=_*l*p,Et.S12+=0),_<0&&(c=T,T=I,I=c,c=b,b=G,G=c,r&t.GEODESICSCALE&&(c=Et.M12,Et.M12=Et.M21,Et.M21=c)),T*=_*l,b*=_*p,I*=_*l,G*=_*p,{vals:Et,salp1:T,calp1:b,salp2:I,calp2:G}},t.Geodesic.prototype.GenDirect=function(e,s,a,n,r,o){var h;return o?o===t.LONG_UNROLL&&(o|=t.STANDARD):o=t.STANDARD,n||(o|=t.DISTANCE_IN),h=new i.GeodesicLine(this,e,s,a,o),h.GenPosition(n,r,o)},t.Geodesic.prototype.Direct=function(t,i,e,s,a){return this.GenDirect(t,i,e,!1,s,a)},t.Geodesic.prototype.ArcDirect=function(t,i,e,s,a){return this.GenDirect(t,i,e,!0,s,a)},t.Geodesic.prototype.Line=function(t,e,s,a){return new i.GeodesicLine(this,t,e,s,a)},t.Geodesic.prototype.DirectLine=function(t,i,e,s,a){return this.GenDirectLine(t,i,e,!1,s,a)},t.Geodesic.prototype.ArcDirectLine=function(t,i,e,s,a){return this.GenDirectLine(t,i,e,!0,s,a)},t.Geodesic.prototype.GenDirectLine=function(e,s,a,n,r,o){var h;return o||(o=t.STANDARD|t.DISTANCE_IN),n||(o|=t.DISTANCE_IN),h=new i.GeodesicLine(this,e,s,a,o),h.GenSetDistance(n,r),h},t.Geodesic.prototype.InverseLine=function(e,a,n,r,o){var h,l,c;return o||(o=t.STANDARD|t.DISTANCE_IN),h=this.InverseInt(e,a,n,r,t.ARC),c=s.atan2d(h.salp1,h.calp1),o&t.OUT_MASK&t.DISTANCE_IN&&(o|=t.DISTANCE),l=new i.GeodesicLine(this,e,a,c,o,h.salp1,h.calp1),l.SetArc(h.vals.a12),l},t.Geodesic.prototype.Polygon=function(t){return new e.PolygonArea(this,t)},t.WGS84=new t.Geodesic(a.WGS84.a,a.WGS84.f)}(n.Geodesic,n.GeodesicLine,n.PolygonArea,n.Math,n.Constants),function(t,i,e){i.GeodesicLine=function(i,s,a,n,r,o,h){var l,c,_,p,u,f;r||(r=t.STANDARD|t.DISTANCE_IN),this.a=i.a,this.f=i.f,this._b=i._b,this._c2=i._c2,this._f1=i._f1,this.caps=r|t.LATITUDE|t.AZIMUTH|t.LONG_UNROLL,this.lat1=e.LatFix(s),this.lon1=a,void 0===o||void 0===h?(this.azi1=e.AngNormalize(n),l=e.sincosd(e.AngRound(this.azi1)),this.salp1=l.s,this.calp1=l.c):(this.azi1=n,this.salp1=o,this.calp1=h),l=e.sincosd(e.AngRound(this.lat1)),_=this._f1*l.s,c=l.c,l=e.hypot(_,c),_/=l,c/=l,c=Math.max(t.tiny_,c),this._dn1=Math.sqrt(1+i._ep2*e.sq(_)),this._salp0=this.salp1*c,this._calp0=e.hypot(this.calp1,this.salp1*_),this._ssig1=_,this._somg1=this._salp0*_,this._csig1=this._comg1=0!==_||0!==this.calp1?c*this.calp1:1,l=e.hypot(this._ssig1,this._csig1),this._ssig1/=l,this._csig1/=l,this._k2=e.sq(this._calp0)*i._ep2,p=this._k2/(2*(1+Math.sqrt(1+this._k2))+this._k2),this.caps&t.CAP_C1&&(this._A1m1=t.A1m1f(p),this._C1a=new Array(t.nC1_+1),t.C1f(p,this._C1a),this._B11=t.SinCosSeries(!0,this._ssig1,this._csig1,this._C1a),u=Math.sin(this._B11),f=Math.cos(this._B11),this._stau1=this._ssig1*f+this._csig1*u,this._ctau1=this._csig1*f-this._ssig1*u),this.caps&t.CAP_C1p&&(this._C1pa=new Array(t.nC1p_+1),t.C1pf(p,this._C1pa)),this.caps&t.CAP_C2&&(this._A2m1=t.A2m1f(p),this._C2a=new Array(t.nC2_+1),t.C2f(p,this._C2a),this._B21=t.SinCosSeries(!0,this._ssig1,this._csig1,this._C2a)),this.caps&t.CAP_C3&&(this._C3a=new Array(t.nC3_),i.C3f(p,this._C3a),this._A3c=-this.f*this._salp0*i.A3f(p),this._B31=t.SinCosSeries(!0,this._ssig1,this._csig1,this._C3a)),this.caps&t.CAP_C4&&(this._C4a=new Array(t.nC4_),i.C4f(p,this._C4a),this._A4=e.sq(this.a)*this._calp0*this._salp0*i._e2,this._B41=t.SinCosSeries(!1,this._ssig1,this._csig1,this._C4a)),this.a13=this.s13=Number.NaN},i.GeodesicLine.prototype.GenPosition=function(i,s,a){var n,r,o,h,l,c,_,p,u,f,d,g,m,A,C,M,E,y,v,L,D,N,S,b,T,G,I,P,O,U={};return a?a===t.LONG_UNROLL&&(a|=t.STANDARD):a=t.STANDARD,a&=this.caps&t.OUT_MASK,U.lat1=this.lat1,U.azi1=this.azi1,U.lon1=a&t.LONG_UNROLL?this.lon1:e.AngNormalize(this.lon1),i?U.a12=s:U.s12=s,i||this.caps&t.DISTANCE_IN&t.OUT_MASK?(h=0,l=0,i?(n=s*e.degree,G=e.sincosd(s),r=G.s,o=G.c):(p=s/(this._b*(1+this._A1m1)),u=Math.sin(p),f=Math.cos(p),h=-t.SinCosSeries(!0,this._stau1*f+this._ctau1*u,this._ctau1*f-this._stau1*u,this._C1pa),n=p-(h-this._B11),r=Math.sin(n),o=Math.cos(n),Math.abs(this.f)>.01&&(c=this._ssig1*o+this._csig1*r,_=this._csig1*o-this._ssig1*r,h=t.SinCosSeries(!0,c,_,this._C1a),d=(1+this._A1m1)*(n+(h-this._B11))-s/this._b,n-=d/Math.sqrt(1+this._k2*e.sq(c)),r=Math.sin(n),o=Math.cos(n))),c=this._ssig1*o+this._csig1*r,_=this._csig1*o-this._ssig1*r,N=Math.sqrt(1+this._k2*e.sq(c)),a&(t.DISTANCE|t.REDUCEDLENGTH|t.GEODESICSCALE)&&((i||Math.abs(this.f)>.01)&&(h=t.SinCosSeries(!0,c,_,this._C1a)),l=(1+this._A1m1)*(h-this._B11)),M=this._calp0*c,E=e.hypot(this._salp0,this._calp0*_),0===E&&(E=_=t.tiny_),L=this._salp0,D=this._calp0*_,i&&a&t.DISTANCE&&(U.s12=this._b*((1+this._A1m1)*n+l)),a&t.LONGITUDE&&(y=this._salp0*c,v=_,C=e.copysign(1,this._salp0),g=a&t.LONG_UNROLL?C*(n-(Math.atan2(c,_)-Math.atan2(this._ssig1,this._csig1))+(Math.atan2(C*y,v)-Math.atan2(C*this._somg1,this._comg1))):Math.atan2(y*this._comg1-v*this._somg1,v*this._comg1+y*this._somg1),m=g+this._A3c*(n+(t.SinCosSeries(!0,c,_,this._C3a)-this._B31)),A=m/e.degree,U.lon2=a&t.LONG_UNROLL?this.lon1+A:e.AngNormalize(e.AngNormalize(this.lon1)+e.AngNormalize(A))),a&t.LATITUDE&&(U.lat2=e.atan2d(M,this._f1*E)),a&t.AZIMUTH&&(U.azi2=e.atan2d(L,D)),a&(t.REDUCEDLENGTH|t.GEODESICSCALE)&&(S=t.SinCosSeries(!0,c,_,this._C2a),b=(1+this._A2m1)*(S-this._B21),T=(this._A1m1-this._A2m1)*n+(l-b),a&t.REDUCEDLENGTH&&(U.m12=this._b*(N*(this._csig1*c)-this._dn1*(this._ssig1*_)-this._csig1*_*T)),a&t.GEODESICSCALE&&(G=this._k2*(c-this._ssig1)*(c+this._ssig1)/(this._dn1+N),U.M12=o+(G*c-_*T)*this._ssig1/this._dn1,U.M21=o-(G*this._ssig1-this._csig1*T)*c/N)),a&t.AREA&&(I=t.SinCosSeries(!1,c,_,this._C4a),0===this._calp0||0===this._salp0?(P=L*this.calp1-D*this.salp1,O=D*this.calp1+L*this.salp1):(P=this._calp0*this._salp0*(o<=0?this._csig1*(1-o)+r*this._ssig1:r*(this._csig1*r/(1+o)+this._ssig1)),O=e.sq(this._salp0)+e.sq(this._calp0)*this._csig1*_),U.S12=this._c2*Math.atan2(P,O)+this._A4*(I-this._B41)),i||(U.a12=n/e.degree),U):(U.a12=Number.NaN,U)},i.GeodesicLine.prototype.Position=function(t,i){return this.GenPosition(!1,t,i)},i.GeodesicLine.prototype.ArcPosition=function(t,i){return this.GenPosition(!0,t,i)},i.GeodesicLine.prototype.GenSetDistance=function(t,i){t?this.SetArc(i):this.SetDistance(i)},i.GeodesicLine.prototype.SetDistance=function(i){var e;this.s13=i,e=this.GenPosition(!1,this.s13,t.ARC),this.a13=0+e.a12},i.GeodesicLine.prototype.SetArc=function(i){var e;this.a13=i,e=this.GenPosition(!0,this.a13,t.DISTANCE),this.s13=0+e.s12}}(n.Geodesic,n.GeodesicLine,n.Math),function(t,i,e,s){var a,n;a=function(t,i){var s;return t=e.AngNormalize(t),i=e.AngNormalize(i),s=e.AngDiff(t,i).s,t<=0&&i>0&&s>0?1:i<=0&&t>0&&s<0?-1:0},n=function(t,i){return t%=720,i%=720,(i>=0&&i<360||i<-360?0:1)-(t>=0&&t<360||t<-360?0:1)},t.PolygonArea=function(t,e){this._geod=t,this.a=this._geod.a,this.f=this._geod.f,this._area0=4*Math.PI*t._c2,this.polyline=e||!1,this._mask=i.LATITUDE|i.LONGITUDE|i.DISTANCE|(this.polyline?i.NONE:i.AREA|i.LONG_UNROLL),this.polyline||(this._areasum=new s.Accumulator(0)),this._perimetersum=new s.Accumulator(0),this.Clear()},t.PolygonArea.prototype.Clear=function(){this.num=0,this._crossings=0,this.polyline||this._areasum.Set(0),this._perimetersum.Set(0),this._lat0=this._lon0=this.lat=this.lon=Number.NaN},t.PolygonArea.prototype.AddPoint=function(t,i){var e;0===this.num?(this._lat0=this.lat=t,this._lon0=this.lon=i):(e=this._geod.Inverse(this.lat,this.lon,t,i,this._mask),this._perimetersum.Add(e.s12),this.polyline||(this._areasum.Add(e.S12),this._crossings+=a(this.lon,i)),this.lat=t,this.lon=i),++this.num},t.PolygonArea.prototype.AddEdge=function(t,i){var e;this.num&&(e=this._geod.Direct(this.lat,this.lon,t,i,this._mask),this._perimetersum.Add(i),this.polyline||(this._areasum.Add(e.S12),this._crossings+=n(this.lon,e.lon2)),this.lat=e.lat2,this.lon=e.lon2),++this.num},t.PolygonArea.prototype.Compute=function(t,i){var e,n,r,o={number:this.num};return this.num<2?(o.perimeter=0,this.polyline||(o.area=0),o):this.polyline?(o.perimeter=this._perimetersum.Sum(),o):(e=this._geod.Inverse(this.lat,this.lon,this._lat0,this._lon0,this._mask),o.perimeter=this._perimetersum.Sum(e.s12),n=new s.Accumulator(this._areasum),n.Add(e.S12),r=this._crossings+a(this.lon,this._lon0),1&r&&n.Add((n.Sum()<0?1:-1)*this._area0/2),t||n.Negate(),i?n.Sum()>this._area0/2?n.Add(-this._area0):n.Sum()<=-this._area0/2&&n.Add(+this._area0):n.Sum()>=this._area0?n.Add(-this._area0):n<0&&n.Add(-this._area0),o.area=n.Sum(),o)},t.PolygonArea.prototype.TestPoint=function(t,i,e,s){var n,r,o,h,l={number:this.num+1};if(0===this.num)return l.perimeter=0,this.polyline||(l.area=0),l;for(l.perimeter=this._perimetersum.Sum(),r=this.polyline?0:this._areasum.Sum(),o=this._crossings,h=0;h<(this.polyline?1:2);++h)n=this._geod.Inverse(0===h?this.lat:t,0===h?this.lon:i,0!==h?this._lat0:t,0!==h?this._lon0:i,this._mask),l.perimeter+=n.s12,this.polyline||(r+=n.S12,o+=a(0===h?this.lon:i,0!==h?this._lon0:i));return this.polyline?l:(1&o&&(r+=(r<0?1:-1)*this._area0/2),e||(r*=-1),s?r>this._area0/2?r-=this._area0:r<=-this._area0/2&&(r+=this._area0):r>=this._area0?r-=this._area0:r<0&&(r+=this._area0),l.area=r,l)},t.PolygonArea.prototype.TestEdge=function(t,i,e,s){var r,o,h,l={number:this.num?this.num+1:0};return 0===this.num?l:(l.perimeter=this._perimetersum.Sum()+i,this.polyline?l:(o=this._areasum.Sum(),h=this._crossings,r=this._geod.Direct(this.lat,this.lon,t,i,this._mask),o+=r.S12,h+=n(this.lon,r.lon2),r=this._geod.Inverse(r.lat2,r.lon2,this._lat0,this._lon0,this._mask),l.perimeter+=r.s12,o+=r.S12,h+=a(r.lon2,this._lon0),1&h&&(o+=(o<0?1:-1)*this._area0/2),e||(o*=-1),s?o>this._area0/2?o-=this._area0:o<=-this._area0/2&&(o+=this._area0):o>=this._area0?o-=this._area0:o<0&&(o+=this._area0),l.area=o,l))}}(n.PolygonArea,n.Geodesic,n.Math,n.Accumulator),n.DMS={},function(t){var i,e,s,a,n="SNWE",r="Â°'\"",o=["degrees","minutes","seconds"];i=function(t,i){return t.indexOf(i.toUpperCase())},e=function(t,i){return String("0000").substr(0,Math.max(0,Math.min(4,i-t.length)))+t},t.NONE=0,t.LATITUDE=1,t.LONGITUDE=2,t.AZIMUTH=3,t.DEGREE=0,t.MINUTE=1,t.SECOND=2,t.Decode=function(e){var a,r,o,h,l,c,_,p,u=e,f=0,d=0,g=t.NONE;for(u=u.replace(/\u00b0/g,"d").replace(/\u00ba/g,"d").replace(/\u2070/g,"d").replace(/\u02da/g,"d").replace(/\u2032/g,"'").replace(/\u00b4/g,"'").replace(/\u2019/g,"'").replace(/\u2033/g,'"').replace(/\u201d/g,'"').replace(/\u2212/g,"-").replace(/''/g,'"').trim(),a=u.length,c=0;c<a;c=p,++d)if(_=c,0===d&&i(n,u.charAt(_))>=0&&++_,(d>0||_<a&&i("-+",u.charAt(_))>=0)&&++_,r=u.substr(_,a-_).indexOf("-"),o=u.substr(_,a-_).indexOf("+"),r<0?r=a:r+=_,o<0?o=a:o+=_,p=Math.min(r,o),h=s(u.substr(c,p-c)),f+=h.val,l=h.ind,g===t.NONE)g=l;else if(l!==t.NONE&&g!==l)throw new Error("Incompatible hemisphere specifies in "+u.substr(0,p));if(0===d)throw new Error("Empty or incomplete DMS string "+u);return{val:f,ind:g}},s=function(e){var s,r,h,l,c,_,p,u,f,d,g,m,A,C,M,E,y={},v="";do{if(s=1,r=0,h=e.length,l=t.NONE,c=-1,h>r&&(c=i(n,e.charAt(r)))>=0&&(l=2&c?t.LONGITUDE:t.LATITUDE,s=1&c?1:-1,++r),h>r&&(c=i(n,e.charAt(h-1)))>=0&&c>=0){if(l!==t.NONE){v=e.charAt(r-1).toUpperCase()===e.charAt(h-1).toUpperCase()?"Repeated hemisphere indicators "+e.charAt(r-1)+" in "+e.substr(r-1,h-r+1):"Contradictory hemisphere indicators "+e.charAt(r-1)+" and "+e.charAt(h-1)+" in "+e.substr(r-1,h-r+1);break}l=2&c?t.LONGITUDE:t.LATITUDE,s=1&c?1:-1,--h}if(h>r&&(c=i("-+",e.charAt(r)))>=0&&c>=0&&(s*=c?1:-1,++r),h===r){v="Empty or incomplete DMS string "+e;break}for(_=[0,0,0],p=[0,0,0],u=0,f=0,d=0,g=0,m=r,A=!1,C=0,M=0;m<h;)if(E=e.charAt(m++),(c=i("0123456789",E))>=0)++g,C>0?++C:(f=10*f+c,++M);else if("."===E){if(A){v="Multiple decimal points in "+e.substr(r,h-r);break}A=!0,C=1}else{if(!((c=i("D'\":",E))>=0)){if(i("-+",E)>=0){v="Internal sign in DMS string "+e.substr(r,h-r);break}v="Illegal character "+E+" in DMS string "+e.substr(r,h-r);break}if(c>=3){if(m===h){v="Illegal for colon to appear at the end of "+e.substr(r,h-r);break}c=u}if(c===u-1){v="Repeated "+o[c]+" component in "+e.substr(r,h-r);break}if(c<u){v=o[c]+" component follows "+o[u-1]+" component in "+e.substr(r,h-r);break}if(0===g){v="Missing numbers in "+o[c]+" component of "+e.substr(r,h-r);break}C>0&&(d=parseFloat(e.substr(m-M-C-1,M+C)),f=0),_[c]=f,p[c]=f+d,m<h&&(u=c+1,f=d=0,g=C=M=0)}if(v.length)break;if(i("D'\":",e.charAt(m-1))<0){if(u>=3){v="Extra text following seconds in DMS string "+e.substr(r,h-r);break}if(0===g){v="Missing numbers in trailing component of "+e.substr(r,h-r);break}C>0&&(d=parseFloat(e.substr(m-M-C,M+C)),f=0),_[u]=f,p[u]=f+d}if(A&&0===C){v="Decimal point in non-terminal component of "+e.substr(r,h-r);break}if(_[1]>=60||p[1]>60){v="Minutes "+p[1]+" not in range [0,60)";break}if(_[2]>=60||p[2]>60){v="Seconds "+p[2]+" not in range [0,60)";break}return y.ind=l,y.val=s*(p[2]?(60*(60*p[0]+p[1])+p[2])/3600:p[1]?(60*p[0]+p[1])/60:p[0]),y}while(!1);if(y.val=a(e),0===y.val)throw new Error(v);return y.ind=t.NONE,y},a=function(t){var i,e,s,a;return t.length<3?0:(i=t.toUpperCase().replace(/0+$/,""),e="-"===i.charAt(0)?-1:1,s="-"===i.charAt(0)||"+"===i.charAt(0)?1:0,(a=i.length-1)+1<s+3?0:(i=i.substr(s,a+1-s),"NAN"===i||"1.#QNAN"===i||"1.#SNAN"===i||"1.#IND"===i||"1.#R"===i?Number.NaN:"INF"===i||"1.#INF"===i?e*Number.POSITIVE_INFINITY:0))},t.DecodeLatLon=function(i,e,s){var a,n,r={},o=t.Decode(i),h=t.Decode(e),l=o.val,c=o.ind,_=h.val,p=h.ind;if(s||(s=!1),c===t.NONE&&p===t.NONE?(c=s?t.LONGITUDE:t.LATITUDE,p=s?t.LATITUDE:t.LONGITUDE):c===t.NONE?c=t.LATITUDE+t.LONGITUDE-p:p===t.NONE&&(p=t.LATITUDE+t.LONGITUDE-c),c===p)throw new Error("Both "+i+" and "+e+" interpreted as "+(c===t.LATITUDE?"latitudes":"longitudes"));if(a=c===t.LATITUDE?l:_,n=c===t.LATITUDE?_:l,Math.abs(a)>90)throw new Error("Latitude "+a+" not in [-90,90]");return r.lat=a,r.lon=n,r},t.DecodeAngle=function(i){var e=t.Decode(i),s=e.val;if(e.ind!==t.NONE)throw new Error("Arc angle "+i+" includes a hemisphere N/E/W/S");return s},t.DecodeAzimuth=function(i){var e=t.Decode(i),s=e.val;if(e.ind===t.LATITUDE)throw new Error("Azimuth "+i+" has a latitude hemisphere N/S");return s},t.Encode=function(i,s,a,o){var h,l,c,_,p,u,f,d,g,m=1;if(o||(o=t.NONE),!isFinite(i))return i<0?String("-inf"):i>0?String("inf"):String("nan");for(a=Math.min(15-2*s,a),h=0;h<s;++h)m*=60;for(h=0;h<a;++h)m*=10;for(o===t.AZIMUTH&&(i-=360*Math.floor(i/360)),l=i<0?-1:1,i*=l,c=Math.floor(i),_=(i-c)*m+.5,p=Math.floor(_),_=p===_&&1==(1&p)?p-1:p,_/=m,_=Math.floor((i-c)*m+.5)/m,_>=1&&(c+=1,_-=1),u=[_,0,0],h=1;h<=s;++h)f=Math.floor(u[h-1]),d=u[h-1]-f,u[h]=60*d,u[h-1]=f;switch(u[0]+=c,g="",o===t.NONE&&l<0&&(g+="-"),s){case t.DEGREE:g+=e(u[0].toFixed(a),o===t.NONE?0:1+Math.min(o,2)+a+(a?1:0))+r.charAt(0);break;default:switch(g+=e(u[0].toFixed(0),o===t.NONE?0:1+Math.min(o,2))+r.charAt(0),s){case t.MINUTE:g+=e(u[1].toFixed(a),2+a+(a?1:0))+r.charAt(1);break;case t.SECOND:g+=e(u[1].toFixed(0),2)+r.charAt(1),g+=e(u[2].toFixed(a),2+a+(a?1:0))+r.charAt(2)}}return o!==t.NONE&&o!==t.AZIMUTH&&(g+=n.charAt((o===t.LATITUDE?0:2)+(l<0?0:1))),g}}(n.DMS),function(e){"object"==typeof t&&t.exports?t.exports=e:(s=[],void 0!==(a=function(){return e}.apply(i,s))&&(t.exports=a))}(n)}()}])},function(t,i){}]);